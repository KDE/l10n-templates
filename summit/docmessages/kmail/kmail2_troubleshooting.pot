# SOME DESCRIPTIVE TITLE.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"Report-Msgid-Bugs-To: https://bugs.kde.org\n"
"POT-Creation-Date: 2025-07-06 11:09+0200\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <kde-i18n-doc@kde.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. Tag: firstname
#. +> trunk6 stable6
#: troubleshooting.docbook:7
#, no-c-format
msgid "Portions of this chapter were converted from the KDE UserBase <ulink url=\"https://userbase.kde.org/Special:MyLanguage/KMail/FAQs_Hints_and_Tips\">KMail/FAQs Hints and Tips</ulink> page in 2012."
msgstr ""

#. Tag: author
#. +> trunk6 stable6
#: troubleshooting.docbook:11
#, no-c-format
msgid "&David.Bryant; &David.Bryant.mail;"
msgstr ""

#. Tag: trans_comment
#. +> trunk6 stable6
#: troubleshooting.docbook:15
#, no-c-format
msgid "ROLES_OF_TRANSLATORS"
msgstr ""

#. Tag: date
#. +> trunk6 stable6
#: troubleshooting.docbook:17
#, no-c-format
msgid "2021-08-08"
msgstr ""

#. Tag: releaseinfo
#. +> trunk6 stable6
#: troubleshooting.docbook:18
#, no-c-format
msgid "5.14.2 (Applications 20.04.2)"
msgstr ""

#. Tag: title
#. +> trunk6 stable6
#: troubleshooting.docbook:21
#, no-c-format
msgid "&kmail; Troubleshooting"
msgstr ""

#. Tag: title
#. +> trunk6 stable6
#: troubleshooting.docbook:24
#, no-c-format
msgid "Introduction to &akonadi;"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:26
#, no-c-format
msgid "&kmail; has been under active development since 1997. A lot of bugs have cropped up over the years. Many of these have been resolved. If you are curious about any of those old bugs, please see the <ulink url=\"https://userbase.kde.org/Special:MyLanguage/KMail/FAQs_Hints_and_Tips\">KMail/FAQs Hints and Tips</ulink> in the &kde; UserBase Wiki. Or visit <ulink url=\"https://bugs.kde.org\">&kde;'s main bug tracking page</ulink> to learn about bugs of a more recent vintage."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:32
#, no-c-format
msgid "At the present time (2021), many of the problems people are experiencing with &kmail; involve the &akonadi; server. &akonadi; is an auxiliary program that functions as an intermediary between &kmail; (plus all the other &PIM; applications) and a general purpose database daemon (most commonly \"mysqld\"). It also facilitates inter-process communications among the various pieces of the &PIM; applications. Depending on the way your system is configured, &akonadi; may be started during the boot-up / login process. Or it may not start until you invoke a &PIM; application program (like &kmail;, or &kaddressbook;, or &kontact;)."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:39
#, no-c-format
msgid "There are two application programs that permit one to interact with the &akonadi; server directly: <code>akonadictl</code> (a terminal-oriented control program), and <code>akonadiconsole</code> (a GUI application). Here is a little information about those two programs."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:42 troubleshooting.docbook:60
#: troubleshooting.docbook:86 troubleshooting.docbook:105
#: troubleshooting.docbook:404 troubleshooting.docbook:409
#, no-c-format
msgid "&nbsp;"
msgstr ""

#. Tag: title
#. +> trunk6 stable6
#: troubleshooting.docbook:45
#, no-c-format
msgid "The Akonadictl Control Program"
msgstr ""

#. Tag: screeninfo
#. +> trunk6 stable6
#: troubleshooting.docbook:47
#, no-c-format
msgid "<screeninfo>&akonadi; status report</screeninfo>"
msgstr ""

#. Tag: phrase
#. +> trunk6 stable6
#: troubleshooting.docbook:53
#, no-c-format
msgid "<phrase>&akonadi; status report</phrase>"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:56
#, no-c-format
msgid "Akonadictl Status Report, 32 Agents Running"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:62
#, no-c-format
msgid "The preceding screenshot illustrates one of the commands one may use with the <code>akonadictl</code> program. Here are all the commands <code>akonadictl</code> recognizes."
msgstr ""

#. Tag: screen
#. +> trunk6 stable6
#: troubleshooting.docbook:65
#, no-c-format
msgid "~$ akonadictl start"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:65
#, no-c-format
msgid "Starts the &akonadi; server."
msgstr ""

#. Tag: screen
#. +> trunk6 stable6
#: troubleshooting.docbook:66
#, no-c-format
msgid "~$ akonadictl stop"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:66
#, no-c-format
msgid "Stops the &akonadi; server."
msgstr ""

#. Tag: screen
#. +> trunk6 stable6
#: troubleshooting.docbook:67
#, no-c-format
msgid "~$ akonadictl restart"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:67
#, no-c-format
msgid "Stops the &akonadi; server, then launches it anew."
msgstr ""

#. Tag: screen
#. +> trunk6 stable6
#: troubleshooting.docbook:68
#, no-c-format
msgid "~$ akonadictl status"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:68
#, no-c-format
msgid "Produces the status report illustrated in the preceding screenshot."
msgstr ""

#. Tag: screen
#. +> trunk6 stable6
#: troubleshooting.docbook:69
#, no-c-format
msgid "~$ akonadictl instances"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:69
#, no-c-format
msgid "Lists the &akonadi; server instances (more than one can be running at the same time)."
msgstr ""

#. Tag: screen
#. +> trunk6 stable6
#: troubleshooting.docbook:71
#, no-c-format
msgid "~$ akonadictl vacuum"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:71
#, no-c-format
msgid "Cleans up &akonadi;'s storage, or at least tries to do that."
msgstr ""

#. Tag: screen
#. +> trunk6 stable6
#: troubleshooting.docbook:72
#, no-c-format
msgid "~$ akonadictl fsck"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:72
#, no-c-format
msgid "Performs a file consistency check. The output from this command can be quite voluminous, especially if you have added your own folders to &kmail;. Use this version of the command (piping the output through grep) to verify that your &akonadi; database is healthy, without producing a lot of extraneous output."
msgstr ""

#. Tag: screen
#. +> trunk6 stable6
#: troubleshooting.docbook:78
#, no-c-format
msgid ""
"~ $ akonadictl fsck 2>&amp;1 | grep ^Found\n"
"Found 0 external files.\n"
"Found 0 external parts.\n"
"Found no unreferenced external files.\n"
"Found 0 parts to be moved to external files\n"
"Found 0 parts to be moved to database\n"
"Found 6 collections without RID.\n"
"Found 0 items without RID.\n"
"Found 0 dirty items."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:78
#, no-c-format
msgid "RID stands for RemoteId, a named field in the mysql database tables. If there are more than 0 items without RID, you have a minor problem that should be corrected. If there are more than 0 dirty items you may have a major problem that <emphasis>must</emphasis> be corrected. See <link linkend=\"resource-conflict-error\">\"Unable to Fetch Item ...\"</link> and also <link linkend=\"dealing-with-dirt\">Correcting &kmail;'s \"Dirty\" Items</link>, below."
msgstr ""

#. Tag: title
#. +> trunk6 stable6
#: troubleshooting.docbook:90
#, no-c-format
msgid "The Akonadiconsole Program"
msgstr ""

#. Tag: screeninfo
#. +> trunk6 stable6
#: troubleshooting.docbook:92
#, no-c-format
msgid "<screeninfo>What akonadiconsole looks like</screeninfo>"
msgstr ""

#. Tag: phrase
#. +> trunk6 stable6
#: troubleshooting.docbook:98
#, no-c-format
msgid "<phrase>What akonadiconsole looks like</phrase>"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:101
#, no-c-format
msgid "Akonadiconsole in action"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:107
#, no-c-format
msgid "The <code>akonadiconsole</code> program provides twelve different \"windows\" into the inner workings of the &PIM; applications. Here is a brief summary of the available views."
msgstr ""

#. Tag: term
#. +> trunk6 stable6
#: troubleshooting.docbook:112
#, no-c-format
msgid "<guilabel>Agents</guilabel> tab."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:113
#, no-c-format
msgid "Here you can see a list of the user agents (processors)."
msgstr ""

#. Tag: term
#. +> trunk6 stable6
#: troubleshooting.docbook:117
#, no-c-format
msgid "<guilabel>Browse</guilabel> tab."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:118
#, no-c-format
msgid "This tab provides an overview of the various collections of data &akonadi; is maintaining, organized as a hierarchical tree that shows how many items reside in each collection."
msgstr ""

#. Tag: term
#. +> trunk6 stable6
#: troubleshooting.docbook:124
#, no-c-format
msgid "<guilabel>Debugger</guilabel> tab."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:125
#, no-c-format
msgid "Here you can turn debugging on and off, and view the debug message log."
msgstr ""

#. Tag: term
#. +> trunk6 stable6
#: troubleshooting.docbook:129
#, no-c-format
msgid "<guilabel>Logging</guilabel> tab."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:130
#, no-c-format
msgid "This tab lets you view messages emitted by various &akonadi; components."
msgstr ""

#. Tag: term
#. +> trunk6 stable6
#: troubleshooting.docbook:134
#, no-c-format
msgid "<guilabel>DB Browser</guilabel> tab."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:135
#, no-c-format
msgid "Use this tab to peek inside the mysql database. There are many different tables."
msgstr ""

#. Tag: term
#. +> trunk6 stable6
#: troubleshooting.docbook:139
#, no-c-format
msgid "<guilabel>DB Console</guilabel> tab."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:140
#, no-c-format
msgid "Here you can query the mysql database."
msgstr ""

#. Tag: term
#. +> trunk6 stable6
#: troubleshooting.docbook:144
#, no-c-format
msgid "<guilabel>Query Debugger</guilabel> tab."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:145
#, no-c-format
msgid "Use this tab to turn database query debugging on and off. &kmail; queries the mysql database many times in just a few seconds; output can be voluminous."
msgstr ""

#. Tag: term
#. +> trunk6 stable6
#: troubleshooting.docbook:150
#, no-c-format
msgid "<guilabel>Job Tracker</guilabel> tab."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:151
#, no-c-format
msgid "The &PIM; applications perform various functions by initiating \"jobs\". Use this tab to toggle job tracking on and off."
msgstr ""

#. Tag: term
#. +> trunk6 stable6
#: troubleshooting.docbook:156
#, no-c-format
msgid "<guilabel>Resources Schedulers</guilabel> tab."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:157
#, no-c-format
msgid "Here you can see which resources are needed when a particular &PIM; function is invoked. You can see a list of all the &akonadi; resources in your system in the <filename>~/.config/akonadi/</filename> directory."
msgstr ""

#. Tag: term
#. +> trunk6 stable6
#: troubleshooting.docbook:163
#, no-c-format
msgid "<guilabel>Notification Monitor</guilabel> tab."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:164
#, no-c-format
msgid "Use this tab to monitor notifications sent by various &akonadi; resources."
msgstr ""

#. Tag: term
#. +> trunk6 stable6
#: troubleshooting.docbook:168
#, no-c-format
msgid "<guilabel>Item Search</guilabel> tab."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:169
#, no-c-format
msgid "This tab provides a generic search function. Searches can be restricted to Calendar, Contact, Email, or Note."
msgstr ""

#. Tag: term
#. +> trunk6 stable6
#: troubleshooting.docbook:174
#, no-c-format
msgid "<guilabel>Monitors</guilabel> tab."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:175
#, no-c-format
msgid "Here you can see a list of all the monitors running under &akonadi;, and also view their properties. Agents, resources, and even some application programs are monitored."
msgstr ""

#. Tag: title
#. +> trunk6 stable6
#: troubleshooting.docbook:324
#, no-c-format
msgid "\"Unable to Fetch Item from Backend\" When Entering &IMAP; Folder"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:326
#, no-c-format
msgid "There are at least two possible reasons for this. Here are some workarounds."
msgstr ""

#. Tag: term
#. +> trunk6 stable6
#: troubleshooting.docbook:330
#, no-c-format
msgid "Workaround 1"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:333
#, no-c-format
msgid "edit <filename>~/.local/share/akonadi/mysql.conf</filename>"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:334
#, no-c-format
msgid "Under the <guilabel>[mysql]</guilabel> section, add: <userinput>binlog_format=row</userinput>"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:336
#, no-c-format
msgid "If this does not work, try workaround 2 (below)."
msgstr ""

#. Tag: term
#. +> trunk6 stable6
#: troubleshooting.docbook:341
#, no-c-format
msgid "Workaround 2"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:343
#, no-c-format
msgid "This one is a matter of restarting so &kmail; can fetch those pesky items. Some possible steps include:"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:344
#, no-c-format
msgid "Use <keycombo>&Alt;<keycap>F2</keycap></keycombo> (&krunner;) or &konsole; to type <userinput><command>kquitapp kmail</command></userinput> , then wait a minute, then <userinput><command>akonadictl stop</command></userinput> . Wait a minute, type <userinput><command>akonadictl start</command></userinput> , wait a minute, then type <userinput> <command>kmail</command></userinput> . This stops &kmail; (closing <emphasis>all</emphasis> windows), stops the &kmail; backend, restarts the &kmail; backend, and restarts &kmail;. Having a working internet connection increases the chances of success. Sometimes, you can also just do <userinput><command>kquitapp kmail</command></userinput> , wait a minute, and then start &kmail; again. Often, a few restarts seem to be needed. It is unclear what causes this error, but on bad network connections it is more likely to happen."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:356
#, no-c-format
msgid "See also <link linkend=\"your-mails-are-not-being-sent\">the next topic</link> to learn how <application>akonadiconsole</application> can be helpful."
msgstr ""

#. Tag: title
#. +> trunk6 stable6
#: troubleshooting.docbook:361
#, no-c-format
msgid "Your Emails Are Not Being Sent, Without Error Messages"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:363
#, no-c-format
msgid "If &kmail; does not send mail without saying anything, the <quote>agent</quote> responsible for dispatching messages may be stuck. Of course, you should first verify you have proper network connectivity so mail can be sent!"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:366
#, no-c-format
msgid "To remedy this, it might help to abort the current action and restart it. First, quit &kmail; by using &krunner; (<keycombo>&Alt;<keycap>F2</keycap></keycombo>) or &konsole; and typing: <userinput><command>kquitapp kmail</command></userinput> . Note that a normal <keycombo>&Alt;<keycap>F4</keycap></keycombo> or <menuchoice><guimenu>File</guimenu><guimenuitem>Quit</guimenuitem> </menuchoice> does <emphasis>not</emphasis> do the trick! Wait a minute, then start &kmail; again. Now start <application>akonadiconsole</application> using &krunner; (<keycombo>&Alt;<keycap>F2</keycap></keycombo>) or &konsole;. Go to the <guilabel>Mail Dispatcher Agent</guilabel> (under the <guilabel>Agents</guilabel> tab), do a right-click, and abort the current action. You will most likely get some error messages popping up. Now go back to &kmail; and choose <menuchoice><guimenu>File</guimenu> <guimenuitem>Send Queued Messages</guimenuitem></menuchoice>. Now it might work. If not, instead of aborting the current action, try toggling the offline/online status of the <guilabel>Mail Dispatcher Agent</guilabel> (same context menu) or restarting things as mentioned in workaround 2 of <link linkend=\"unable-to-fetch-item-from-backend\"> the previous topic</link>."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:377
#, no-c-format
msgid "akonadiconsole can be quite helpful for a number of situations because it shows all the <quote>agents</quote>, the separate components of the &kmail; backend. You can stop and start them, put them in offline mode, abort ongoing actions &etc;. It can be very helpful when &kmail; is acting cranky."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:381
#, no-c-format
msgid "Sometimes the <guilabel>Mail Dispatcher Agent</guilabel> fails to function because the dbus daemon (a system-level facility for inter-process communications) is not functioning correctly. Your best bet in this circumstance is simply to reboot the system. The dbus daemon is one of the first processes started when you log in to the &kde; desktop, so it cannot be easily stopped and restarted. The whole &plasma; environment depends on it."
msgstr ""

#. Tag: title
#. +> trunk6 stable6
#: troubleshooting.docbook:389
#, no-c-format
msgid "\"Unable to Fetch Item from Backend ... [LRCONFLICT]\""
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:391
#, no-c-format
msgid "This problem is directly related to <ulink url=\"https://bugs.kde.org/show_bug.cgi?id=283682\">&akonadi; bug #283682</ulink>, which has been a thorn in the side of &kmail; since October, 2011. There is a timing / co-ordination problem with asynchronous processing of message filters. Once in a while, a filter rule that moves messages to a different folder \"hiccups\", and produces more than one database entry for a message that has been moved. When you try to open the second copy of such a message, the error message \"Unable to fetch item from backend ...[LRCONFLICT]\" appears. Such phantom messages cannot be deleted or moved to trash using &kmail;'s built-in functions. But you <emphasis>can</emphasis> get rid of them. Here's how you do it."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:399
#, no-c-format
msgid "First, exit the &kmail; program. This may not be necessary, but better safe than sorry."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:401
#, no-c-format
msgid ""
"You can learn how many corrupted messages are present by using <code>akonadictl</code>. <screen>~ $ akonadictl fsck 2>&amp;1 | grep ^Found\n"
"Found 6 external files.\n"
"Found 6 external parts.\n"
"Found no unreferenced external files.\n"
"Found 0 parts to be moved to external files\n"
"Found 0 parts to be moved to database\n"
"Found 6 collections without RID.\n"
"Found 9 items without RID.\n"
"Found 0 dirty items.</screen> In this instance, there are nine duplicated messages (without RID)."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:406
#, no-c-format
msgid "You need to know how to connect directly to the mysql server. Use the <code>ps</code> and <code>grep</code> commands to do this."
msgstr ""

#. Tag: screen
#. +> trunk6 stable6
#: troubleshooting.docbook:408
#, no-c-format
msgid ""
"~ $ ps ux | grep mysql\n"
"david     8788  0.2  0.9 3736292 153936 ?      Sl   06:45   0:16 /usr/sbin/mysqld\n"
"--defaults-file=/home/david/.local/share/akonadi/mysql.conf\n"
"--datadir=/home/david/.local/share/akonadi/db_data/\n"
"--socket=/run/user/1000/akonadi/mysql.socket\n"
"--pid-file=/run/user/1000/akonadi/mysql.pid\n"
"david    24275  0.0  0.0   8056  2144 pts/1    S+   08:24   0:00 grep --colour=auto mysql"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:411
#, no-c-format
msgid ""
"Invoke the mysql server program using the socket information from step 3 and issue three mysql commands, as illustrated below. <screen>~ $ mysql --socket=/run/user/1000/akonadi/mysql.socket                 &lt;==\n"
"Welcome to the MariaDB monitor.  Commands end with ; or \\g.\n"
"Your MariaDB connection id is 114\n"
"Server version: 10.5.10-MariaDB Source distribution\n"
"\n"
"Copyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.\n"
"\n"
"Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n"
"\n"
"MariaDB [(none)]> use akonadi;                                         &lt;==\n"
"Reading table information for completion of table and column names\n"
"You can turn off this feature to get a quicker startup with -A\n"
"\n"
"Database changed\n"
"MariaDB [akonadi]> delete from pimitemtable where remoteid is NULL;    &lt;==\n"
"Query OK, 9 rows affected (0.003 sec)\n"
"\n"
"MariaDB [akonadi]> \\q                                                  &lt;==\n"
"Bye</screen> The three mysql commands are \"use akonadi;\", \"delete from pimitemtable where remoteid is NULL;\", and \"\\q\". After you say \"mysql --socket= ...\" you will be in a dialog with the mysql server (aka \"MariaDB\"), which provides a &gt; prompt. The entire dialog is presented here, for clarity. User input lines are marked with &lt;== in the preceding illustration."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:421
#, no-c-format
msgid "When you restart &kmail;, those pesky duplicate messages will be gone. They were merely phantoms caused by the NULL pointers in the mysql database tables."
msgstr ""

#. Tag: title
#. +> trunk6 stable6
#: troubleshooting.docbook:427
#, no-c-format
msgid "Keeping &kmail;'s Auxiliary Storage Areas Clean"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:429
#, no-c-format
msgid "&kmail; stores data in several different places on your machine. Most of these places are inside the <filename>~/.local/share/</filename> directory somewhere. For instance, on most Linux distros, your <guilabel>Local Folders</guilabel> are in <filename>~/.local/share/local-mail/</filename> . &akonadi; stores most of its data in <filename>~/.local/share/akonadi/</filename> ."
msgstr ""

#. Tag: screen
#. +> trunk6 stable6
#: troubleshooting.docbook:433
#, no-c-format
msgid ""
"~ $ cd .local/share/akonadi\n"
"~/.local/share/akonadi $ ls\n"
"Akonadi.error      db_data  file_db_data     mysql.conf  socket-localhost-default\n"
"Akonadi.error.old  db_misc  file_lost+found  search_db"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:435
#, no-c-format
msgid "<filename>Akonadi.error</filename> and <filename>Akonadi.error.old</filename> are log files that are created whenever &akonadi; stops and restarts. Text file <filename>mysql.conf</filename> is a configuration file for the mysqld daemon that serves as &akonadi;'s backend. The two directories <filename>db_data</filename> and <filename>search_db</filename> contain the actual mysql database tables. There are also a couple of mysql log files in <filename>db_data</filename> that might be helpful if and when &akonadi; acts up."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:441
#, no-c-format
msgid "The two directories <filename>file_db_data</filename> and <filename>file_lost+found</filename> contain auxiliary data associated with asynchronous processing. &akonadi; does not automatically clean out the <filename>file_lost+found</filename> directory, so you may wish to clean those files up manually from time to time (&eg;, with &dolphin;). &akonadi; does try to clean the <filename>file_db_data</filename> directory out after it has merged everything into the main database files, but sometimes junk piles up in there. Use this command <screen>find .local/share/akonadi/file_db_data/ -type f | xargs rm</screen> to fix this when it happens. (If the directory <filename>file_db_data</filename> is already clean, the \"find\" command shown above will return an error.)"
msgstr ""

#. Tag: title
#. +> trunk6 stable6
#: troubleshooting.docbook:452
#, no-c-format
msgid "Correcting &kmail;'s \"Dirty\" Items"
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:454
#, no-c-format
msgid "This problem is directly related to <ulink url=\"https://bugs.kde.org/show_bug.cgi?id=436550\">&akonadi; bug #436550</ulink>, which was reported in April, 2021. It results from the \"dirty\" items occasionally found by <code>akonadictl fsck</code>."
msgstr ""

#. Tag: screen
#. +> trunk6 stable6
#: troubleshooting.docbook:456
#, no-c-format
msgid ""
"~ $ akonadictl fsck 2>&amp;1 | grep ^Found\n"
"Found 5 external files.\n"
"Found 5 external parts.\n"
"Found no unreferenced external files.\n"
"Found 0 parts to be moved to external files\n"
"Found 0 parts to be moved to database\n"
"Found 6 collections without RID.\n"
"Found 0 items without RID.\n"
"Found 750 dirty items."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:459
#, no-c-format
msgid "The \"dirty\" flag on an item in pimitemtable (one of the tables in the &akonadi; database) is used to control certain aspects of asynchronous processing. It is set true when there are operations pending for a particular email message. Most of the time, the \"dirty\" flag is cleared one or two seconds later, when the once pending operation finishes up."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:463
#, no-c-format
msgid "Occasionally, for reasons that are not entirely clear, the \"dirty\" flag can get set on dozens or even hundreds of messages all at once, as illustrated above. When this happens, the automatic clearing mechanism gets stuck, and is unable to repair itself automatically. The primary reason for a \"dirty\" item in this circumstance is that the field \"remoteid\" is not set correctly, making retrieval of a \"dirty\" message impossible in &kmail;. The message still exists on the disk. But &kmail; can't find it."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:469
#, no-c-format
msgid "There ought to be a better way to correct this problem. If you think of a better way, please let the authors know about it, so this documentation can be improved. The following procedure will at least correct the database errors. But it does entail a lot of work."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:474
#, no-c-format
msgid "Exit &kmail; and stop the &akonadi; server with a terminal command: <code>akonadictl stop</code> ."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:476
#, no-c-format
msgid "Make a backup copy of all your email messages. You may be able to use <ulink url=\"help:/pimdataexporter\">PIM Data Exporter</ulink> for this purpose. Or you may use &ark; to make an archive, or &dolphin; to make a second copy of <filename>~/.local/share/local-mail/</filename> somewhere else on your hard disk. If you're adventurous, you might just rename your local folders directory to something like <filename>local-mail-save</filename> . But it's safer to be sure you have a backup copy of your messages before you proceed."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:482
#, no-c-format
msgid "You should also make a backup copy of any filters you have created, and make sure you know how to restore any custom <guilabel>Sent mail folder</guilabel>, <guilabel>Drafts folder</guilabel>, or <guilabel>Templates folder</guilabel> entries associated with your &kmail; identities. The next step will remove all your personally customized mail folders, and you will need to patch some stuff up after &akonadi; rebuilds its database tables."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:487
#, no-c-format
msgid "Now delete all the folders inside of the directory <filename>local-mail</filename>, or rename that directory to something like <filename>local-mail-save</filename> . Then start the &kmail; program. This will force &akonadi; to erase all the database table entries associated with email messages. You will see your old folder names, briefly, but these will disappear when &akonadi; finishes deleting all the \"dirty\" items (and all the clean ones, too)."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:492
#, no-c-format
msgid "Exit &kmail; and stop the &akonadi; server as explained in step 1, then restore the backup copy of your messages (created in step 2) to the <filename>~/.local/share/local-mail/</filename> directory."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:495
#, no-c-format
msgid "Start &kmail; up again, and force &akonadi; to re-sync the database. The easiest way to do this is to <menuchoice> <shortcut><keycombo action=\"simul\">&Ctrl;<keycap>L</keycap></keycombo></shortcut><guimenu>File</guimenu><guimenuitem>Check Mail</guimenuitem></menuchoice>; &akonadi; automatically re-syncs all the folders when it fetches mail. This will take several minutes to complete, depending on how many messages you have saved in your &kmail; folders. But when the process is complete all the \"dirty\" items will be gone."
msgstr ""

#. Tag: para
#. +> trunk6 stable6
#: troubleshooting.docbook:501
#, no-c-format
msgid "Finally, you will want to restore your mail filter rules backed up in step 3, and check that all the custom folder items (<guilabel>Sent mail folder</guilabel>, &etc;) for your identities are set the way you want them. You will also need to reset any custom folder properties you had set up, and you will probably have a bunch of spurious \"Unread Message\" notifications to deal with. But your &akonadi; database tables will be all clean and shiny once again!"
msgstr ""
